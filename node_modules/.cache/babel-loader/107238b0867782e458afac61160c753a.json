{"ast":null,"code":"import _defineProperty from\"/Users/wabuchiryota/pro_train/daily/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/wabuchiryota/pro_train/daily/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{getDailyDetail}from\"../api/getDaily\";import marked from\"marked\";import{CategoryList}from\"../components/CategoryList\";import axios from\"axios\";import createHistory from\"history/createBrowserHistory\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var DailyDetail=function DailyDetail(props){var _jsx2;var initialState={date:\"\",study:\"\",other:\"\",wanna_do:\"\"};var history=createHistory();var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),detail=_useState2[0],setDetail=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){getDailyDetail(id).then(function(d){setDetail(d);setLoading(false);}).catch(function(e){throw new Error(e);});},[]);var handleDelete=function handleDelete(){axios.delete(\"http://localhost:8000/daily/\".concat(id));history.push(\"/\");_this.forceUpdate();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[loading?/*#__PURE__*/_jsx(\"h1\",{children:\"loading....\"}):/*#__PURE__*/_jsxs(\"div\",{class:\"ml-8\",children:[/*#__PURE__*/_jsx(\"h1\",{children:detail.date}),/*#__PURE__*/_jsx(\"h1\",{class:\"text-2xl my-4 underline\",children:\"\\u52C9\\u5F37\"}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:\"\".concat(marked(\"\".concat(detail.study)))},className:\"detail-content\"}),/*#__PURE__*/_jsx(\"h1\",{class:\"text-2xl my-4 underline\",children:\"\\u305D\\u306E\\u4ED6\"}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:\"\".concat(marked(\"\".concat(detail.other)))},className:\"detail-content\"}),/*#__PURE__*/_jsx(\"h1\",{class:\"text-2xl my-4 underline\",children:\"\\u3084\\u308A\\u305F\\u3044\\u3053\\u3068\"}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:\"\".concat(marked(\"\".concat(detail.wanna_do)))},className:\"detail-content\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleDelete,children:/*#__PURE__*/_jsx(\"button\",(_jsx2={type:\"danger\"},_defineProperty(_jsx2,\"type\",\"submit\"),_defineProperty(_jsx2,\"class\",\"p-4 bg-red-500 rounded-lg mt-8 ml-8 text-white\"),_defineProperty(_jsx2,\"children\",\"\\u524A\\u9664\"),_jsx2))})]}),/*#__PURE__*/_jsx(\"div\",{class:\"mt-4 p-8 bg-gray-50\",children:/*#__PURE__*/_jsx(Link,{class:\"p-4 bg-blue-300 rounded-lg text-white\",to:\"/daily\",children:\"\\u65E5\\u5831\\u4E00\\u89A7\\u306B\\u623B\\u308B\"})})]});};","map":{"version":3,"sources":["/Users/wabuchiryota/pro_train/daily/src/daily/pages/DailyDetail.js"],"names":["React","useState","useEffect","useParams","getDailyDetail","marked","CategoryList","axios","createHistory","Link","DailyDetail","props","initialState","date","study","other","wanna_do","history","detail","setDetail","loading","setLoading","id","then","d","catch","e","Error","handleDelete","delete","push","forceUpdate","__html"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,cAAT,KAA+B,iBAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,YAAT,KAA6B,4BAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,8BAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,C,6IAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,WACpC,GAAMC,CAAAA,YAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAEnBC,KAAK,CAAE,EAFY,CAGnBC,KAAK,CAAE,EAHY,CAInBC,QAAQ,CAAE,EAJS,CAArB,CAOA,GAAMC,CAAAA,OAAO,CAAGT,aAAa,EAA7B,CARoC,cAURP,QAAQ,CAACW,YAAD,CAVA,wCAU7BM,MAV6B,eAUrBC,SAVqB,8BAWNlB,QAAQ,CAAC,IAAD,CAXF,yCAW7BmB,OAX6B,eAWpBC,UAXoB,8BAYrBlB,SAAS,EAZY,CAY5BmB,EAZ4B,YAY5BA,EAZ4B,CAcpCpB,SAAS,CAAC,UAAM,CACdE,cAAc,CAACkB,EAAD,CAAd,CACGC,IADH,CACQ,SAACC,CAAD,CAAO,CACXL,SAAS,CAACK,CAAD,CAAT,CACAH,UAAU,CAAC,KAAD,CAAV,CACD,CAJH,EAKGI,KALH,CAKS,SAACC,CAAD,CAAO,CACZ,KAAM,IAAIC,CAAAA,KAAJ,CAAUD,CAAV,CAAN,CACD,CAPH,EAQD,CATQ,CASN,EATM,CAAT,CAWA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBrB,KAAK,CAACsB,MAAN,uCAA4CP,EAA5C,GACAL,OAAO,CAACa,IAAR,CAAa,GAAb,EACA,KAAI,CAACC,WAAL,GACD,CAJD,CAMA,mBACE,wCACE,uBACGX,OAAO,cACN,mCADM,cAGN,aAAK,KAAK,CAAC,MAAX,wBACE,oBAAKF,MAAM,CAACL,IAAZ,EADF,cAEE,WAAI,KAAK,CAAC,yBAAV,0BAFF,cAGE,YACE,uBAAuB,CAAE,CACvBmB,MAAM,WAAK3B,MAAM,WAAIa,MAAM,CAACJ,KAAX,EAAX,CADiB,CAD3B,CAIE,SAAS,CAAC,gBAJZ,EAHF,cASE,WAAI,KAAK,CAAC,yBAAV,gCATF,cAUE,YACE,uBAAuB,CAAE,CACvBkB,MAAM,WAAK3B,MAAM,WAAIa,MAAM,CAACH,KAAX,EAAX,CADiB,CAD3B,CAIE,SAAS,CAAC,gBAJZ,EAVF,cAgBE,WAAI,KAAK,CAAC,yBAAV,kDAhBF,cAiBE,YACE,uBAAuB,CAAE,CACvBiB,MAAM,WAAK3B,MAAM,WAAIa,MAAM,CAACF,QAAX,EAAX,CADiB,CAD3B,CAIE,SAAS,CAAC,gBAJZ,EAjBF,GAJJ,cA8BE,aAAM,QAAQ,CAAEY,YAAhB,uBACE,sBACE,IAAI,CAAC,QADP,+BAEO,QAFP,gCAGQ,gDAHR,0DADF,EA9BF,GADF,cAyCE,YAAK,KAAK,CAAC,qBAAX,uBACE,KAAC,IAAD,EAAM,KAAK,CAAC,uCAAZ,CAAoD,EAAE,CAAC,QAAvD,wDADF,EAzCF,GADF,CAiDD,CAhFM","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getDailyDetail } from \"../api/getDaily\";\nimport marked from \"marked\";\nimport { CategoryList } from \"../components/CategoryList\";\nimport axios from \"axios\";\nimport createHistory from \"history/createBrowserHistory\";\nimport { Link } from \"react-router-dom\";\n\nexport const DailyDetail = (props) => {\n  const initialState = {\n    date: \"\",\n    study: \"\",\n    other: \"\",\n    wanna_do: \"\",\n  };\n\n  const history = createHistory();\n\n  const [detail, setDetail] = useState(initialState);\n  const [loading, setLoading] = useState(true);\n  const { id } = useParams();\n\n  useEffect(() => {\n    getDailyDetail(id)\n      .then((d) => {\n        setDetail(d);\n        setLoading(false);\n      })\n      .catch((e) => {\n        throw new Error(e);\n      });\n  }, []);\n\n  const handleDelete = () => {\n    axios.delete(`http://localhost:8000/daily/${id}`);\n    history.push(\"/\");\n    this.forceUpdate();\n  };\n\n  return (\n    <>\n      <div>\n        {loading ? (\n          <h1>loading....</h1>\n        ) : (\n          <div class=\"ml-8\">\n            <h1>{detail.date}</h1>\n            <h1 class=\"text-2xl my-4 underline\">勉強</h1>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: `${marked(`${detail.study}`)}`,\n              }}\n              className=\"detail-content\"\n            ></div>\n            <h1 class=\"text-2xl my-4 underline\">その他</h1>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: `${marked(`${detail.other}`)}`,\n              }}\n              className=\"detail-content\"\n            ></div>\n            <h1 class=\"text-2xl my-4 underline\">やりたいこと</h1>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: `${marked(`${detail.wanna_do}`)}`,\n              }}\n              className=\"detail-content\"\n            ></div>\n          </div>\n        )}\n        {/* <CategoryList /> */}\n        <form onSubmit={handleDelete}>\n          <button\n            type=\"danger\"\n            type=\"submit\"\n            class=\"p-4 bg-red-500 rounded-lg mt-8 ml-8 text-white\"\n          >\n            削除\n          </button>\n        </form>\n      </div>\n      <div class=\"mt-4 p-8 bg-gray-50\">\n        <Link class=\"p-4 bg-blue-300 rounded-lg text-white\" to=\"/daily\">\n          日報一覧に戻る\n        </Link>\n      </div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}